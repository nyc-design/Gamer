name: Launch Coder Workspace

on:
  workflow_dispatch:
    inputs:
      mode:
        description: "Who is the workspace for?"
        type: choice
        options: [self, agent]
        default: agent
      agent-type:
        description: "Agent type (used when mode=agent)"
        type: choice
        options: [claude, codex, gemini]
        default: claude

permissions:
  contents: read

jobs:
  launch:
    uses: nyc-design/Coder-Workspaces/.github/workflows/coder-workspace-launch.yaml@main
    secrets: inherit
    with:
      mode: ${{ inputs.mode }}
      agent-type: ${{ inputs.agent-type }}
